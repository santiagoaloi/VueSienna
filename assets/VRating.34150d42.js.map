{"version":3,"file":"VRating.34150d42.js","sources":["../../node_modules/vuetify/lib/components/VRating/VRating.mjs"],"sourcesContent":["import { createTextVNode as _createTextVNode, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VRating.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\"; // Composables\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeDensityProps } from \"../../composables/density.mjs\";\nimport { makeSizeProps } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { computed, ref } from 'vue';\nimport { clamp, createRange, genericComponent, getUid, useRender } from \"../../util/index.mjs\"; // Types\nexport const VRating = genericComponent()({\n  name: 'VRating',\n  props: {\n    name: String,\n    itemAriaLabel: {\n      type: String,\n      default: '$vuetify.rating.ariaLabel.item'\n    },\n    activeColor: String,\n    color: String,\n    clearable: Boolean,\n    disabled: Boolean,\n    emptyIcon: {\n      type: IconValue,\n      default: '$ratingEmpty'\n    },\n    fullIcon: {\n      type: IconValue,\n      default: '$ratingFull'\n    },\n    halfIncrements: Boolean,\n    hover: Boolean,\n    length: {\n      type: [Number, String],\n      default: 5\n    },\n    readonly: Boolean,\n    modelValue: {\n      type: [Number, String],\n      default: 0\n    },\n    itemLabels: Array,\n    itemLabelPosition: {\n      type: String,\n      default: 'top',\n      validator: v => ['top', 'bottom'].includes(v)\n    },\n    ripple: Boolean,\n    ...makeDensityProps(),\n    ...makeSizeProps(),\n    ...makeTagProps(),\n    ...makeThemeProps()\n  },\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      t\n    } = useLocale();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const rating = useProxiedModel(props, 'modelValue');\n    const normalizedValue = computed(() => clamp(parseFloat(rating.value), 0, +props.length));\n    const range = computed(() => createRange(Number(props.length), 1));\n    const increments = computed(() => range.value.flatMap(v => props.halfIncrements ? [v - 0.5, v] : [v]));\n    const hoverIndex = ref(-1);\n    const focusIndex = ref(-1);\n    const firstRef = ref();\n    let isClicking = false;\n    const itemState = computed(() => increments.value.map(value => {\n      const isHovering = props.hover && hoverIndex.value > -1;\n      const isFilled = normalizedValue.value >= value;\n      const isHovered = hoverIndex.value >= value;\n      const isFullIcon = isHovering ? isHovered : isFilled;\n      const icon = isFullIcon ? props.fullIcon : props.emptyIcon;\n      const activeColor = props.activeColor ?? props.color;\n      const color = isFilled || isHovered ? activeColor : props.color;\n      return {\n        isFilled,\n        isHovered,\n        icon,\n        color\n      };\n    }));\n    const eventState = computed(() => [0, ...increments.value].map(value => {\n      function onMouseenter() {\n        hoverIndex.value = value;\n      }\n      function onMouseleave() {\n        hoverIndex.value = -1;\n      }\n      function onFocus() {\n        if (value === 0 && normalizedValue.value === 0) {\n          var _firstRef$value;\n          (_firstRef$value = firstRef.value) == null ? void 0 : _firstRef$value.focus();\n        } else {\n          focusIndex.value = value;\n        }\n      }\n      function onBlur() {\n        if (!isClicking) focusIndex.value = -1;\n      }\n      function onClick() {\n        if (props.disabled || props.readonly) return;\n        rating.value = normalizedValue.value === value && props.clearable ? 0 : value;\n      }\n      return {\n        onMouseenter: props.hover ? onMouseenter : undefined,\n        onMouseleave: props.hover ? onMouseleave : undefined,\n        onFocus,\n        onBlur,\n        onClick\n      };\n    }));\n    function onMousedown() {\n      isClicking = true;\n    }\n    function onMouseup() {\n      isClicking = false;\n    }\n    const name = computed(() => props.name ?? `v-rating-${getUid()}`);\n    function VRatingItem(_ref2) {\n      var _itemState$value$inde, _itemState$value$inde2;\n      let {\n        value,\n        index,\n        showStar = true\n      } = _ref2;\n      const {\n        onMouseenter,\n        onMouseleave,\n        onFocus,\n        onBlur,\n        onClick\n      } = eventState.value[index + 1];\n      const id = `${name.value}-${String(value).replace('.', '-')}`;\n      const btnProps = {\n        color: (_itemState$value$inde = itemState.value[index]) == null ? void 0 : _itemState$value$inde.color,\n        density: props.density,\n        disabled: props.disabled,\n        icon: (_itemState$value$inde2 = itemState.value[index]) == null ? void 0 : _itemState$value$inde2.icon,\n        ripple: props.ripple,\n        size: props.size,\n        tag: 'span',\n        variant: 'plain'\n      };\n      return _createVNode(_Fragment, null, [_createVNode(\"label\", {\n        \"for\": id,\n        \"class\": {\n          'v-rating__item--half': props.halfIncrements && value % 1 > 0,\n          'v-rating__item--full': props.halfIncrements && value % 1 === 0\n        },\n        \"onMousedown\": onMousedown,\n        \"onMouseup\": onMouseup,\n        \"onMouseenter\": onMouseenter,\n        \"onMouseleave\": onMouseleave\n      }, [_createVNode(\"span\", {\n        \"class\": \"v-rating__hidden\"\n      }, [t(props.itemAriaLabel, value, props.length)]), !showStar ? undefined : slots.item ? slots.item({\n        ...itemState.value[index],\n        props: btnProps,\n        value,\n        index\n      }) : _createVNode(VBtn, btnProps, null)]), _createVNode(\"input\", {\n        \"class\": \"v-rating__hidden\",\n        \"name\": name.value,\n        \"id\": id,\n        \"type\": \"radio\",\n        \"value\": value,\n        \"checked\": normalizedValue.value === value,\n        \"onClick\": onClick,\n        \"onFocus\": onFocus,\n        \"onBlur\": onBlur,\n        \"ref\": index === 0 ? firstRef : undefined,\n        \"readonly\": props.readonly,\n        \"disabled\": props.disabled\n      }, null)]);\n    }\n    function createLabel(labelProps) {\n      if (slots['item-label']) return slots['item-label'](labelProps);\n      if (labelProps.label) return _createVNode(\"span\", null, [labelProps.label]);\n      return _createVNode(\"span\", null, [_createTextVNode(\"\\xA0\")]);\n    }\n    useRender(() => {\n      var _props$itemLabels;\n      const hasLabels = !!((_props$itemLabels = props.itemLabels) != null && _props$itemLabels.length) || slots['item-label'];\n      return _createVNode(props.tag, {\n        \"class\": ['v-rating', {\n          'v-rating--hover': props.hover,\n          'v-rating--readonly': props.readonly\n        }, themeClasses.value]\n      }, {\n        default: () => [_createVNode(VRatingItem, {\n          \"value\": 0,\n          \"index\": -1,\n          \"showStar\": false\n        }, null), range.value.map((value, i) => {\n          var _props$itemLabels2, _props$itemLabels3;\n          return _createVNode(\"div\", {\n            \"class\": \"v-rating__wrapper\"\n          }, [hasLabels && props.itemLabelPosition === 'top' ? createLabel({\n            value,\n            index: i,\n            label: (_props$itemLabels2 = props.itemLabels) == null ? void 0 : _props$itemLabels2[i]\n          }) : undefined, _createVNode(\"div\", {\n            \"class\": ['v-rating__item', {\n              'v-rating__item--focused': Math.ceil(focusIndex.value) === value\n            }]\n          }, [props.halfIncrements ? _createVNode(_Fragment, null, [_createVNode(VRatingItem, {\n            \"value\": value - 0.5,\n            \"index\": i * 2\n          }, null), _createVNode(VRatingItem, {\n            \"value\": value,\n            \"index\": i * 2 + 1\n          }, null)]) : _createVNode(VRatingItem, {\n            \"value\": value,\n            \"index\": i\n          }, null)]), hasLabels && props.itemLabelPosition === 'bottom' ? createLabel({\n            value,\n            index: i,\n            label: (_props$itemLabels3 = props.itemLabels) == null ? void 0 : _props$itemLabels3[i]\n          }) : undefined]);\n        })]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VRating.mjs.map"],"names":["genericComponent","IconValue","makeThemeProps","useLocale","provideTheme","useProxiedModel","clamp","createRange","getUid","useRender","makeDensityProps","makeSizeProps","makeTagProps","VBtn","computed","ref","createVNode","createTextVNode","VRating","v","value","props","_ref","slots","t","themeClasses","rating","normalizedValue","range","increments","hoverIndex","focusIndex","firstRef","isClicking","itemState","_a","isHovering","isFilled","isHovered","icon","activeColor","color","eventState","onMouseenter","onMouseleave","onFocus","_firstRef$value","onBlur","onClick","onMousedown","onMouseup","name","VRatingItem","_ref2","_itemState$value$inde","_itemState$value$inde2","index","showStar","id","btnProps","_createVNode","_Fragment","createLabel","labelProps","_createTextVNode","_props$itemLabels","hasLabels","i","_props$itemLabels2","_props$itemLabels3"],"mappings":"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"}
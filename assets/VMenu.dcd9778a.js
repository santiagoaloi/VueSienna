import{g as E,h as b,$ as w,i as M,r as O,j as A,k as D}from"./index.4d4089e3.js";import{d as T,a5 as v,ab as q,a6 as x,ac as B,a1 as F,k as L,a7 as j,s as k,w as R,u as I}from"./vuetify.963a462a.js";import{L as h,M as y,T as P,h as U,r as X,i as Y,D as H,w as N}from"./vue.05eca872.js";const W=T({name:"VDialogTransition",props:{target:Object},setup(s,u){let{slots:t}=u;const a={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(e,f){var i;await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),e.style.visibility="";const{x:l,y:n,sx:c,sy:m,speed:r}=C(s.target,e),d=v(e,[{transform:`translate(${l}px, ${n}px) scale(${c}, ${m})`,opacity:0},{transform:""}],{duration:225*r,easing:q});(i=V(e))==null||i.forEach(o=>{v(o,[{opacity:0},{opacity:0,offset:.33},{opacity:1}],{duration:225*2*r,easing:x})}),d.finished.then(()=>f())},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(e,f){var i;await new Promise(o=>requestAnimationFrame(o));const{x:l,y:n,sx:c,sy:m,speed:r}=C(s.target,e);v(e,[{transform:""},{transform:`translate(${l}px, ${n}px) scale(${c}, ${m})`,opacity:0}],{duration:125*r,easing:B}).finished.then(()=>f()),(i=V(e))==null||i.forEach(o=>{v(o,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*r,easing:x})})},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>s.target?h(P,y({name:"dialog-transition"},a,{css:!1}),t):h(P,{name:"dialog-transition"},t)}});function V(s){var u;const t=(u=s.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:u.children;return t&&[...t]}function C(s,u){const t=s.getBoundingClientRect(),a=F(u),[e,f]=getComputedStyle(u).transformOrigin.split(" ").map(S=>parseFloat(S)),[i,l]=getComputedStyle(u).getPropertyValue("--v-overlay-anchor-origin").split(" ");let n=t.left+t.width/2;i==="left"||l==="left"?n-=t.width/2:(i==="right"||l==="right")&&(n+=t.width/2);let c=t.top+t.height/2;i==="top"||l==="top"?c-=t.height/2:(i==="bottom"||l==="bottom")&&(c+=t.height/2);const m=t.width/a.width,r=t.height/a.height,d=Math.max(1,m,r),o=m/d||0,g=r/d||0,p=a.width*a.height/(window.innerWidth*window.innerHeight),$=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:n-(e+a.left),y:c-(f+a.top),sx:o,sy:g,speed:$}}const K=L()({name:"VMenu",props:{id:String,...j(E({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:W}}),["absolute"])},emits:{"update:modelValue":s=>!0},setup(s,u){let{slots:t}=u;const a=k(s,"modelValue"),{scopeId:e}=b(),f=R(),i=U(()=>s.id||`v-menu-${f}`),l=X(),n=Y(w,null);let c=0;H(w,{register(){++c},unregister(){--c},closeParents(){setTimeout(()=>{c||(a.value=!1,n==null||n.closeParents())},40)}}),N(a,r=>{r?n==null||n.register():n==null||n.unregister()});function m(){n==null||n.closeParents()}return I(()=>{const[r]=M(s);return h(A,y({ref:l,class:["v-menu"]},r,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,absolute:!0,activatorProps:y({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":i.value},s.activatorProps),"onClick:outside":m},e),{activator:t.activator,default:function(){for(var d,o=arguments.length,g=new Array(o),p=0;p<o;p++)g[p]=arguments[p];return h(O,{root:!0},{default:()=>[(d=t.default)==null?void 0:d.call(t,...g)]})}})}),D({id:i},l)}});export{K as V,W as a};

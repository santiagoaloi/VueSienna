{"version":3,"file":"VMenu.f6a60ef8.js","sources":["../../node_modules/vuetify/lib/components/transitions/dialog-transition.mjs","../../node_modules/vuetify/lib/components/VMenu/VMenu.mjs"],"sourcesContent":["import { createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective } from \"vue\";\nimport { Transition } from 'vue';\nimport { acceleratedEasing, animate, deceleratedEasing, defineComponent, nullifyTransforms, standardEasing } from \"../../util/index.mjs\";\nexport const VDialogTransition = defineComponent({\n  name: 'VDialogTransition',\n  props: {\n    target: Object\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const functions = {\n      onBeforeEnter(el) {\n        el.style.pointerEvents = 'none';\n        el.style.visibility = 'hidden';\n      },\n      async onEnter(el, done) {\n        var _getChildren;\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        el.style.visibility = '';\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }, {\n          transform: ''\n        }], {\n          duration: 225 * speed,\n          easing: deceleratedEasing\n        });\n        (_getChildren = getChildren(el)) == null ? void 0 : _getChildren.forEach(el => {\n          animate(el, [{\n            opacity: 0\n          }, {\n            opacity: 0,\n            offset: 0.33\n          }, {\n            opacity: 1\n          }], {\n            duration: 225 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n        animation.finished.then(() => done());\n      },\n      onAfterEnter(el) {\n        el.style.removeProperty('pointer-events');\n      },\n      onBeforeLeave(el) {\n        el.style.pointerEvents = 'none';\n      },\n      async onLeave(el, done) {\n        var _getChildren2;\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{\n          transform: ''\n        }, {\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }], {\n          duration: 125 * speed,\n          easing: acceleratedEasing\n        });\n        animation.finished.then(() => done());\n        (_getChildren2 = getChildren(el)) == null ? void 0 : _getChildren2.forEach(el => {\n          animate(el, [{}, {\n            opacity: 0,\n            offset: 0.2\n          }, {\n            opacity: 0\n          }], {\n            duration: 125 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n      },\n      onAfterLeave(el) {\n        el.style.removeProperty('pointer-events');\n      }\n    };\n    return () => {\n      return props.target ? _createVNode(Transition, _mergeProps({\n        \"name\": \"dialog-transition\"\n      }, functions, {\n        \"css\": false\n      }), slots) : _createVNode(Transition, {\n        \"name\": \"dialog-transition\"\n      }, slots);\n    };\n  }\n});\n\n/** Animatable children (card, sheet, list) */\nfunction getChildren(el) {\n  var _el$querySelector;\n  const els = (_el$querySelector = el.querySelector(':scope > .v-card, :scope > .v-sheet, :scope > .v-list')) == null ? void 0 : _el$querySelector.children;\n  return els && [...els];\n}\nfunction getDimensions(target, el) {\n  const targetBox = target.getBoundingClientRect();\n  const elBox = nullifyTransforms(el);\n  const [originX, originY] = getComputedStyle(el).transformOrigin.split(' ').map(v => parseFloat(v));\n  const [anchorSide, anchorOffset] = getComputedStyle(el).getPropertyValue('--v-overlay-anchor-origin').split(' ');\n  let offsetX = targetBox.left + targetBox.width / 2;\n  if (anchorSide === 'left' || anchorOffset === 'left') {\n    offsetX -= targetBox.width / 2;\n  } else if (anchorSide === 'right' || anchorOffset === 'right') {\n    offsetX += targetBox.width / 2;\n  }\n  let offsetY = targetBox.top + targetBox.height / 2;\n  if (anchorSide === 'top' || anchorOffset === 'top') {\n    offsetY -= targetBox.height / 2;\n  } else if (anchorSide === 'bottom' || anchorOffset === 'bottom') {\n    offsetY += targetBox.height / 2;\n  }\n  const tsx = targetBox.width / elBox.width;\n  const tsy = targetBox.height / elBox.height;\n  const maxs = Math.max(1, tsx, tsy);\n  const sx = tsx / maxs || 0;\n  const sy = tsy / maxs || 0;\n\n  // Animate elements larger than 12% of the screen area up to 1.5x slower\n  const asa = elBox.width * elBox.height / (window.innerWidth * window.innerHeight);\n  const speed = asa > 0.12 ? Math.min(1.5, (asa - 0.12) * 10 + 1) : 1;\n  return {\n    x: offsetX - (originX + elBox.left),\n    y: offsetY - (originY + elBox.top),\n    sx,\n    sy,\n    speed\n  };\n}\n//# sourceMappingURL=dialog-transition.mjs.map","import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VMenu.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, inject, mergeProps, provide, ref, watch } from 'vue';\nimport { genericComponent, getUid, omit, useRender } from \"../../util/index.mjs\";\nimport { filterVOverlayProps, makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\";\nimport { VMenuSymbol } from \"./shared.mjs\"; // Types\nexport const VMenu = genericComponent()({\n  name: 'VMenu',\n  props: {\n    // TODO\n    // disableKeys: Boolean,\n    id: String,\n    ...omit(makeVOverlayProps({\n      closeDelay: 250,\n      closeOnContentClick: true,\n      locationStrategy: 'connected',\n      openDelay: 300,\n      scrim: false,\n      scrollStrategy: 'reposition',\n      transition: {\n        component: VDialogTransition\n      }\n    }), ['absolute'])\n  },\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const uid = getUid();\n    const id = computed(() => props.id || `v-menu-${uid}`);\n    const overlay = ref();\n    const parent = inject(VMenuSymbol, null);\n    let openChildren = 0;\n    provide(VMenuSymbol, {\n      register() {\n        ++openChildren;\n      },\n      unregister() {\n        --openChildren;\n      },\n      closeParents() {\n        setTimeout(() => {\n          if (!openChildren) {\n            isActive.value = false;\n            parent == null ? void 0 : parent.closeParents();\n          }\n        }, 40);\n      }\n    });\n    watch(isActive, val => {\n      val ? parent == null ? void 0 : parent.register() : parent == null ? void 0 : parent.unregister();\n    });\n    function onClickOutside() {\n      parent == null ? void 0 : parent.closeParents();\n    }\n    useRender(() => {\n      const [overlayProps] = filterVOverlayProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-menu']\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"absolute\": true,\n        \"activatorProps\": mergeProps({\n          'aria-haspopup': 'menu',\n          'aria-expanded': String(isActive.value),\n          'aria-owns': id.value\n        }, props.activatorProps),\n        \"onClick:outside\": onClickOutside\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          var _slots$default;\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": true\n          }, {\n            default: () => [(_slots$default = slots.default) == null ? void 0 : _slots$default.call(slots, ...args)]\n          });\n        }\n      });\n    });\n    return forwardRefs({\n      id\n    }, overlay);\n  }\n});\n//# sourceMappingURL=VMenu.mjs.map"],"names":["VDialogTransition","defineComponent","props","_ref","slots","functions","el","done","_getChildren","resolve","x","y","sx","sy","speed","getDimensions","animation","animate","deceleratedEasing","getChildren","standardEasing","_getChildren2","acceleratedEasing","_createVNode","Transition","_mergeProps","_el$querySelector","els","target","targetBox","elBox","nullifyTransforms","originX","originY","v","anchorSide","anchorOffset","offsetX","offsetY","tsx","tsy","maxs","asa","VMenu","genericComponent","omit","makeVOverlayProps","value","isActive","useProxiedModel","scopeId","useScopeId","uid","getUid","id","computed","overlay","ref","parent","inject","VMenuSymbol","openChildren","provide","watch","val","onClickOutside","useRender","overlayProps","filterVOverlayProps","VOverlay","$event","mergeProps","_slots$default","_len","args","_key","VDefaultsProvider","forwardRefs"],"mappings":"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"}
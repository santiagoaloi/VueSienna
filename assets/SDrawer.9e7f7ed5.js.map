{"version":3,"file":"SDrawer.9e7f7ed5.js","sources":["../../node_modules/vuetify/lib/components/VNavigationDrawer/sticky.mjs","../../node_modules/vuetify/lib/composables/touch.mjs","../../node_modules/vuetify/lib/components/VNavigationDrawer/touch.mjs","../../node_modules/vuetify/lib/components/VNavigationDrawer/VNavigationDrawer.mjs","../../src/layouts/components/secure/app-drawer/SDrawer.vue"],"sourcesContent":["import { computed, onBeforeUnmount, onMounted, ref, watch } from 'vue';\nimport { convertToUnit } from \"../../util/index.mjs\";\nexport function useSticky(_ref) {\n  let {\n    rootEl,\n    isSticky,\n    layoutItemStyles\n  } = _ref;\n  const isStuck = ref(false);\n  const stuckPosition = ref(0);\n  const stickyStyles = computed(() => {\n    const side = typeof isStuck.value === 'boolean' ? 'top' : isStuck.value;\n    return [isSticky.value ? {\n      top: 'auto',\n      bottom: 'auto',\n      height: undefined\n    } : undefined, isStuck.value ? {\n      [side]: convertToUnit(stuckPosition.value)\n    } : {\n      top: layoutItemStyles.value.top\n    }];\n  });\n  onMounted(() => {\n    watch(isSticky, val => {\n      if (val) {\n        window.addEventListener('scroll', onScroll, {\n          passive: true\n        });\n      } else {\n        window.removeEventListener('scroll', onScroll);\n      }\n    }, {\n      immediate: true\n    });\n  });\n  onBeforeUnmount(() => {\n    document.removeEventListener('scroll', onScroll);\n  });\n  let lastScrollTop = 0;\n  function onScroll() {\n    const direction = lastScrollTop > window.scrollY ? 'up' : 'down';\n    const rect = rootEl.value.getBoundingClientRect();\n    const layoutTop = parseFloat(layoutItemStyles.value.top ?? 0);\n    const top = window.scrollY - Math.max(0, stuckPosition.value - layoutTop);\n    const bottom = rect.height + Math.max(stuckPosition.value, layoutTop) - window.scrollY - window.innerHeight;\n    if (rect.height < window.innerHeight - layoutTop) {\n      isStuck.value = 'top';\n      stuckPosition.value = layoutTop;\n    } else if (direction === 'up' && isStuck.value === 'bottom' || direction === 'down' && isStuck.value === 'top') {\n      stuckPosition.value = window.scrollY + rect.top;\n      isStuck.value = true;\n    } else if (direction === 'down' && bottom <= 0) {\n      stuckPosition.value = 0;\n      isStuck.value = 'bottom';\n    } else if (direction === 'up' && top <= 0) {\n      stuckPosition.value = rect.top + top;\n      isStuck.value = 'top';\n    }\n    lastScrollTop = window.scrollY;\n  }\n  return {\n    isStuck,\n    stickyStyles\n  };\n}\n//# sourceMappingURL=sticky.mjs.map","import { CircularBuffer } from \"../util/index.mjs\";\nconst HORIZON = 100; // ms\nconst HISTORY = 20; // number of samples to keep\n\n/** @see https://android.googlesource.com/platform/frameworks/native/+/master/libs/input/VelocityTracker.cpp */\nfunction kineticEnergyToVelocity(work) {\n  const sqrt2 = 1.41421356237;\n  return (work < 0 ? -1.0 : 1.0) * Math.sqrt(Math.abs(work)) * sqrt2;\n}\n\n/**\n * Returns pointer velocity in px/s\n */\nexport function calculateImpulseVelocity(samples) {\n  // The input should be in reversed time order (most recent sample at index i=0)\n  if (samples.length < 2) {\n    // if 0 or 1 points, velocity is zero\n    return 0;\n  }\n  // if (samples[1].t > samples[0].t) {\n  //   // Algorithm will still work, but not perfectly\n  //   consoleWarn('Samples provided to calculateImpulseVelocity in the wrong order')\n  // }\n  if (samples.length === 2) {\n    // if 2 points, basic linear calculation\n    if (samples[1].t === samples[0].t) {\n      // consoleWarn(`Events have identical time stamps t=${samples[0].t}, setting velocity = 0`)\n      return 0;\n    }\n    return (samples[1].d - samples[0].d) / (samples[1].t - samples[0].t);\n  }\n  // Guaranteed to have at least 3 points here\n  // start with the oldest sample and go forward in time\n  let work = 0;\n  for (let i = samples.length - 1; i > 0; i--) {\n    if (samples[i].t === samples[i - 1].t) {\n      // consoleWarn(`Events have identical time stamps t=${samples[i].t}, skipping sample`)\n      continue;\n    }\n    const vprev = kineticEnergyToVelocity(work); // v[i-1]\n    const vcurr = (samples[i].d - samples[i - 1].d) / (samples[i].t - samples[i - 1].t); // v[i]\n    work += (vcurr - vprev) * Math.abs(vcurr);\n    if (i === samples.length - 1) {\n      work *= 0.5;\n    }\n  }\n  return kineticEnergyToVelocity(work) * 1000;\n}\nexport function useVelocity() {\n  const touches = {};\n  function addMovement(e) {\n    Array.from(e.changedTouches).forEach(touch => {\n      const samples = touches[touch.identifier] ?? (touches[touch.identifier] = new CircularBuffer(HISTORY));\n      samples.push([e.timeStamp, touch]);\n    });\n  }\n  function endTouch(e) {\n    Array.from(e.changedTouches).forEach(touch => {\n      delete touches[touch.identifier];\n    });\n  }\n  function getVelocity(id) {\n    var _touches$id;\n    const samples = (_touches$id = touches[id]) == null ? void 0 : _touches$id.values().reverse();\n    if (!samples) {\n      throw new Error(`No samples for touch id ${id}`);\n    }\n    const newest = samples[0];\n    const x = [];\n    const y = [];\n    for (const val of samples) {\n      if (newest[0] - val[0] > HORIZON) break;\n      x.push({\n        t: val[0],\n        d: val[1].clientX\n      });\n      y.push({\n        t: val[0],\n        d: val[1].clientY\n      });\n    }\n    return {\n      x: calculateImpulseVelocity(x),\n      y: calculateImpulseVelocity(y),\n      get direction() {\n        const {\n          x,\n          y\n        } = this;\n        const [absX, absY] = [Math.abs(x), Math.abs(y)];\n        return absX > absY && x >= 0 ? 'right' : absX > absY && x <= 0 ? 'left' : absY > absX && y >= 0 ? 'down' : absY > absX && y <= 0 ? 'up' : oops();\n      }\n    };\n  }\n  return {\n    addMovement,\n    endTouch,\n    getVelocity\n  };\n}\nfunction oops() {\n  throw new Error();\n}\n//# sourceMappingURL=touch.mjs.map","// Composables\nimport { useVelocity } from \"../../composables/touch.mjs\"; // Utilities\nimport { computed, onBeforeUnmount, onMounted, ref } from 'vue';\n\n// Types\n\nexport function useTouch(_ref) {\n  let {\n    isActive,\n    isTemporary,\n    width,\n    touchless,\n    position\n  } = _ref;\n  onMounted(() => {\n    window.addEventListener('touchstart', onTouchstart, {\n      passive: true\n    });\n    window.addEventListener('touchmove', onTouchmove, {\n      passive: false\n    });\n    window.addEventListener('touchend', onTouchend, {\n      passive: true\n    });\n  });\n  onBeforeUnmount(() => {\n    window.removeEventListener('touchstart', onTouchstart);\n    window.removeEventListener('touchmove', onTouchmove);\n    window.removeEventListener('touchend', onTouchend);\n  });\n  const isHorizontal = computed(() => position.value !== 'bottom');\n  const {\n    addMovement,\n    endTouch,\n    getVelocity\n  } = useVelocity();\n  let maybeDragging = false;\n  const isDragging = ref(false);\n  const dragProgress = ref(0);\n  const offset = ref(0);\n  let start;\n  function getOffset(pos, active) {\n    return (position.value === 'left' ? pos : position.value === 'right' ? document.documentElement.clientWidth - pos : position.value === 'bottom' ? document.documentElement.clientHeight - pos : oops()) - (active ? width.value : 0);\n  }\n  function getProgress(pos) {\n    let limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    const progress = position.value === 'left' ? (pos - offset.value) / width.value : position.value === 'right' ? (document.documentElement.clientWidth - pos - offset.value) / width.value : position.value === 'bottom' ? (document.documentElement.clientHeight - pos - offset.value) / width.value : oops();\n    return limit ? Math.max(0, Math.min(1, progress)) : progress;\n  }\n  function onTouchstart(e) {\n    if (touchless.value) return;\n    const touchX = e.changedTouches[0].clientX;\n    const touchY = e.changedTouches[0].clientY;\n    const touchZone = 25;\n    const inTouchZone = position.value === 'left' ? touchX < touchZone : position.value === 'right' ? touchX > document.documentElement.clientWidth - touchZone : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - touchZone : oops();\n    const inElement = isActive.value && (position.value === 'left' ? touchX < width.value : position.value === 'right' ? touchX > document.documentElement.clientWidth - width.value : position.value === 'bottom' ? touchY > document.documentElement.clientHeight - width.value : oops());\n    if (inTouchZone || inElement || isActive.value && isTemporary.value) {\n      maybeDragging = true;\n      start = [touchX, touchY];\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, isActive.value);\n      dragProgress.value = getProgress(isHorizontal.value ? touchX : touchY);\n      endTouch(e);\n      addMovement(e);\n    }\n  }\n  function onTouchmove(e) {\n    const touchX = e.changedTouches[0].clientX;\n    const touchY = e.changedTouches[0].clientY;\n    if (maybeDragging) {\n      if (!e.cancelable) {\n        maybeDragging = false;\n        return;\n      }\n      const dx = Math.abs(touchX - start[0]);\n      const dy = Math.abs(touchY - start[1]);\n      const thresholdMet = isHorizontal.value ? dx > dy && dx > 3 : dy > dx && dy > 3;\n      if (thresholdMet) {\n        isDragging.value = true;\n        maybeDragging = false;\n      } else if ((isHorizontal.value ? dy : dx) > 3) {\n        maybeDragging = false;\n      }\n    }\n    if (!isDragging.value) return;\n    e.preventDefault();\n    addMovement(e);\n    const progress = getProgress(isHorizontal.value ? touchX : touchY, false);\n    dragProgress.value = Math.max(0, Math.min(1, progress));\n    if (progress > 1) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, true);\n    } else if (progress < 0) {\n      offset.value = getOffset(isHorizontal.value ? touchX : touchY, false);\n    }\n  }\n  function onTouchend(e) {\n    maybeDragging = false;\n    if (!isDragging.value) return;\n    addMovement(e);\n    isDragging.value = false;\n    const velocity = getVelocity(e.changedTouches[0].identifier);\n    const vx = Math.abs(velocity.x);\n    const vy = Math.abs(velocity.y);\n    const thresholdMet = isHorizontal.value ? vx > vy && vx > 400 : vy > vx && vy > 3;\n    if (thresholdMet) {\n      isActive.value = velocity.direction === ({\n        left: 'right',\n        right: 'left',\n        bottom: 'up'\n      }[position.value] || oops());\n    } else {\n      isActive.value = dragProgress.value > 0.5;\n    }\n  }\n  const dragStyles = computed(() => {\n    return isDragging.value ? {\n      transform: position.value === 'left' ? `translateX(calc(-100% + ${dragProgress.value * width.value}px))` : position.value === 'right' ? `translateX(calc(100% - ${dragProgress.value * width.value}px))` : position.value === 'bottom' ? `translateY(calc(100% - ${dragProgress.value * width.value}px))` : oops(),\n      transition: 'none'\n    } : undefined;\n  });\n  return {\n    isDragging,\n    dragProgress,\n    dragStyles\n  };\n}\nfunction oops() {\n  throw new Error();\n}\n//# sourceMappingURL=touch.mjs.map","import { mergeProps as _mergeProps, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VNavigationDrawer.css\";\n\n// Composables\nimport { makeBorderProps, useBorder } from \"../../composables/border.mjs\";\nimport { makeElevationProps, useElevation } from \"../../composables/elevation.mjs\";\nimport { makeLayoutItemProps, useLayoutItem } from \"../../composables/layout.mjs\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { provideDefaults } from \"../../composables/defaults.mjs\";\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { useDisplay } from \"../../composables/display.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useRouter } from \"../../composables/router.mjs\";\nimport { useRtl } from \"../../composables/index.mjs\";\nimport { useSsrBoot } from \"../../composables/ssrBoot.mjs\";\nimport { useSticky } from \"./sticky.mjs\";\nimport { useTouch } from \"./touch.mjs\"; // Utilities\nimport { computed, nextTick, onBeforeMount, ref, toRef, Transition, watch } from 'vue';\nimport { convertToUnit, defineComponent, toPhysical, useRender } from \"../../util/index.mjs\"; // Types\nconst locations = ['start', 'end', 'left', 'right', 'bottom'];\nexport const VNavigationDrawer = defineComponent({\n  name: 'VNavigationDrawer',\n  props: {\n    color: String,\n    disableResizeWatcher: Boolean,\n    disableRouteWatcher: Boolean,\n    expandOnHover: Boolean,\n    floating: Boolean,\n    modelValue: {\n      type: Boolean,\n      default: null\n    },\n    permanent: Boolean,\n    rail: Boolean,\n    railWidth: {\n      type: [Number, String],\n      default: 56\n    },\n    scrim: {\n      type: [String, Boolean],\n      default: true\n    },\n    image: String,\n    temporary: Boolean,\n    touchless: Boolean,\n    width: {\n      type: [Number, String],\n      default: 256\n    },\n    location: {\n      type: String,\n      default: 'start',\n      validator: value => locations.includes(value)\n    },\n    sticky: Boolean,\n    ...makeBorderProps(),\n    ...makeElevationProps(),\n    ...makeLayoutItemProps(),\n    ...makeRoundedProps(),\n    ...makeTagProps({\n      tag: 'nav'\n    }),\n    ...makeThemeProps()\n  },\n  emits: {\n    'update:modelValue': val => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      isRtl\n    } = useRtl();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      borderClasses\n    } = useBorder(props);\n    const {\n      backgroundColorClasses,\n      backgroundColorStyles\n    } = useBackgroundColor(toRef(props, 'color'));\n    const {\n      elevationClasses\n    } = useElevation(props);\n    const {\n      mobile\n    } = useDisplay();\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const router = useRouter();\n    const isActive = useProxiedModel(props, 'modelValue', null, v => !!v);\n    const {\n      ssrBootStyles\n    } = useSsrBoot();\n    const rootEl = ref();\n    const isHovering = ref(false);\n    const width = computed(() => {\n      return props.rail && props.expandOnHover && isHovering.value ? Number(props.width) : Number(props.rail ? props.railWidth : props.width);\n    });\n    const location = computed(() => {\n      return toPhysical(props.location, isRtl.value);\n    });\n    const isTemporary = computed(() => !props.permanent && (mobile.value || props.temporary));\n    const isSticky = computed(() => props.sticky && !isTemporary.value && location.value !== 'bottom');\n    if (!props.disableResizeWatcher) {\n      watch(isTemporary, val => !props.permanent && nextTick(() => isActive.value = !val));\n    }\n    if (!props.disableRouteWatcher && router) {\n      watch(router.currentRoute, () => isTemporary.value && (isActive.value = false));\n    }\n    watch(() => props.permanent, val => {\n      if (val) isActive.value = true;\n    });\n    onBeforeMount(() => {\n      if (props.modelValue != null || isTemporary.value) return;\n      isActive.value = props.permanent || !mobile.value;\n    });\n    const {\n      isDragging,\n      dragProgress,\n      dragStyles\n    } = useTouch({\n      isActive,\n      isTemporary,\n      width,\n      touchless: toRef(props, 'touchless'),\n      position: location\n    });\n    const layoutSize = computed(() => {\n      const size = isTemporary.value ? 0 : props.rail && props.expandOnHover ? Number(props.railWidth) : width.value;\n      return isDragging.value ? size * dragProgress.value : size;\n    });\n    const {\n      layoutItemStyles,\n      layoutRect,\n      layoutItemScrimStyles\n    } = useLayoutItem({\n      id: props.name,\n      order: computed(() => parseInt(props.order, 10)),\n      position: location,\n      layoutSize,\n      elementSize: width,\n      active: computed(() => isActive.value || isDragging.value),\n      disableTransitions: computed(() => isDragging.value),\n      absolute: computed(() =>\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      props.absolute || isSticky.value && typeof isStuck.value !== 'string')\n    });\n    const {\n      isStuck,\n      stickyStyles\n    } = useSticky({\n      rootEl,\n      isSticky,\n      layoutItemStyles\n    });\n    const scrimColor = useBackgroundColor(computed(() => {\n      return typeof props.scrim === 'string' ? props.scrim : null;\n    }));\n    const scrimStyles = computed(() => ({\n      ...(isDragging.value ? {\n        opacity: dragProgress.value * 0.2,\n        transition: 'none'\n      } : undefined),\n      ...(layoutRect.value ? {\n        left: convertToUnit(layoutRect.value.left),\n        right: convertToUnit(layoutRect.value.right),\n        top: convertToUnit(layoutRect.value.top),\n        bottom: convertToUnit(layoutRect.value.bottom)\n      } : undefined),\n      ...layoutItemScrimStyles.value\n    }));\n    provideDefaults({\n      VList: {\n        bgColor: 'transparent'\n      }\n    });\n    useRender(() => {\n      var _slots$image, _slots$prepend, _slots$default, _slots$append;\n      const hasImage = slots.image || props.image;\n      return _createVNode(_Fragment, null, [_createVNode(props.tag, _mergeProps({\n        \"ref\": rootEl,\n        \"onMouseenter\": () => isHovering.value = true,\n        \"onMouseleave\": () => isHovering.value = false,\n        \"class\": ['v-navigation-drawer', `v-navigation-drawer--${location.value}`, {\n          'v-navigation-drawer--expand-on-hover': props.expandOnHover,\n          'v-navigation-drawer--floating': props.floating,\n          'v-navigation-drawer--is-hovering': isHovering.value,\n          'v-navigation-drawer--rail': props.rail,\n          'v-navigation-drawer--temporary': isTemporary.value,\n          'v-navigation-drawer--active': isActive.value,\n          'v-navigation-drawer--sticky': isSticky.value\n        }, themeClasses.value, backgroundColorClasses.value, borderClasses.value, elevationClasses.value, roundedClasses.value],\n        \"style\": [backgroundColorStyles.value, layoutItemStyles.value, dragStyles.value, ssrBootStyles.value, stickyStyles.value]\n      }, attrs), {\n        default: () => [hasImage && _createVNode(\"div\", {\n          \"key\": \"image\",\n          \"class\": \"v-navigation-drawer__img\"\n        }, [slots.image ? (_slots$image = slots.image) == null ? void 0 : _slots$image.call(slots, {\n          image: props.image\n        }) : _createVNode(\"img\", {\n          \"src\": props.image,\n          \"alt\": \"\"\n        }, null)]), slots.prepend && _createVNode(\"div\", {\n          \"class\": \"v-navigation-drawer__prepend\"\n        }, [(_slots$prepend = slots.prepend) == null ? void 0 : _slots$prepend.call(slots)]), _createVNode(\"div\", {\n          \"class\": \"v-navigation-drawer__content\"\n        }, [(_slots$default = slots.default) == null ? void 0 : _slots$default.call(slots)]), slots.append && _createVNode(\"div\", {\n          \"class\": \"v-navigation-drawer__append\"\n        }, [(_slots$append = slots.append) == null ? void 0 : _slots$append.call(slots)])]\n      }), _createVNode(Transition, {\n        \"name\": \"fade-transition\"\n      }, {\n        default: () => [isTemporary.value && (isDragging.value || isActive.value) && !!props.scrim && _createVNode(\"div\", {\n          \"class\": ['v-navigation-drawer__scrim', scrimColor.backgroundColorClasses.value],\n          \"style\": [scrimStyles.value, scrimColor.backgroundColorStyles.value],\n          \"onClick\": () => isActive.value = false\n        }, null)]\n      })]);\n    });\n    return {\n      isStuck\n    };\n  }\n});\n//# sourceMappingURL=VNavigationDrawer.mjs.map","<template>\n  <VNavigationDrawer v-model=\"app.drawer\">\n    <template v-slot:prepend>\n      <SDrawerNavTop class=\"bottom-border\" />\n    </template>\n\n    <SDrawerNav />\n\n    <template v-slot:append>\n      <SDrawerNavBottom />\n    </template>\n  </VNavigationDrawer>\n</template>\n<script setup>\nimport { useAppStore } from '@/stores/appStore'\nlet app = useAppStore()\n</script>\n"],"names":["useSticky","_ref","rootEl","isSticky","layoutItemStyles","isStuck","ref","stuckPosition","stickyStyles","computed","side","convertToUnit","onMounted","watch","val","onScroll","onBeforeUnmount","lastScrollTop","direction","rect","layoutTop","_a","top","bottom","HORIZON","HISTORY","kineticEnergyToVelocity","work","sqrt2","calculateImpulseVelocity","samples","i","vprev","vcurr","useVelocity","touches","addMovement","e","touch","CircularBuffer","endTouch","getVelocity","id","_touches$id","newest","x","y","absX","absY","oops","useTouch","isActive","isTemporary","width","touchless","position","onTouchstart","onTouchmove","onTouchend","isHorizontal","maybeDragging","isDragging","dragProgress","offset","start","getOffset","pos","active","getProgress","limit","progress","touchX","touchY","touchZone","inTouchZone","inElement","dx","dy","velocity","vx","vy","dragStyles","locations","VNavigationDrawer","defineComponent","value","makeBorderProps","makeElevationProps","makeLayoutItemProps","makeRoundedProps","makeTagProps","makeThemeProps","props","attrs","slots","isRtl","useRtl","themeClasses","provideTheme","borderClasses","useBorder","backgroundColorClasses","backgroundColorStyles","useBackgroundColor","toRef","elevationClasses","useElevation","mobile","useDisplay","roundedClasses","useRounded","router","useRouter","useProxiedModel","v","ssrBootStyles","useSsrBoot","isHovering","location","toPhysical","nextTick","onBeforeMount","layoutSize","size","layoutRect","layoutItemScrimStyles","useLayoutItem","scrimColor","scrimStyles","provideDefaults","useRender","_slots$image","_slots$prepend","_slots$default","_slots$append","hasImage","_createVNode","_Fragment","_mergeProps","Transition","app","useAppStore"],"mappings":"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"}